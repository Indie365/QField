
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="gl">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Configuración do Formulario de Atributos &#8212; QField Documentation 1.0 - M... documentation</title>
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/style.css" />
    <link rel="stylesheet" type="text/css" href="../_static/qfield.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <script type="text/javascript" src="../_static/qfield.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Authentication" href="authentication.html" />
    <link rel="prev" title="Permite agochar os nodos da lenda" href="allow-hiding-legend-nodes.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js "></script>
<script type="text/javascript" src="../_static/js/jquery-fix.js "></script>
<script type="text/javascript" src="../_static/bootstrap-3.3.7/js/bootstrap.min.js "></script>
<script type="text/javascript" src="../_static/bootstrap-sphinx.js "></script>

  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="https://qfield.org">
              <img src="../_static/qfield-logo.svg">
        </a>
        <span class="navbar-text navbar-title"><b><a href="../index.html">QField Documentation</a> </b></span>
        <span class="navbar-text navbar-version pull-left"><b>1.0</b></span>
      </div>

      <div class="collapse navbar-collapse nav-collapse">
        <ul class="nav navbar-nav">
          
          
            
              <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">Configuración do Formulario de Atributos</a><ul>
<li><a class="reference internal" href="#suppress-attribute-form">Eliminar Formulario de Atributos</a></li>
<li><a class="reference internal" href="#field-widget">Widget de campo</a></li>
<li><a class="reference internal" href="#relation-widget">Widget de Relación</a><ul>
<li><a class="reference internal" href="#attachment-photo-settings">Anexo (configuración da foto)</a></li>
</ul>
</li>
<li><a class="reference internal" href="#value-relation">Relación de Valores</a></li>
<li><a class="reference internal" href="#drag-and-drop-designer-forms">Formularios do deseñador arrastrar e soltar</a></li>
<li><a class="reference internal" href="#conditional-visibility">Visibilidade condicional</a></li>
<li><a class="reference internal" href="#constraints">Restricións</a><ul>
<li><a class="reference internal" href="#common-use-cases">Casos comúns de uso</a></li>
</ul>
</li>
<li><a class="reference internal" href="#default-values">Valores predeterminados</a><ul>
<li><a class="reference internal" href="#additional-variables">Variables adicionais</a></li>
<li><a class="reference internal" href="#common-use-cases-expressions">Casos comúns de uso</a></li>
</ul>
</li>
<li><a class="reference internal" href="#editable">Editable</a></li>
<li><a class="reference internal" href="#remember-last-values">Lembrar os últimos valores</a></li>
</ul>
</li>
</ul>
</ul>
</li>
            
          
          
            
              
  <li>
    <a href="allow-hiding-legend-nodes.html" title="Previous Chapter: Permite agochar os nodos da lenda"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Permite agoch...</span>
    </a>
  </li>
  <li>
    <a href="authentication.html" title="Next Chapter: Authentication"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Authentication &raquo;</span>
    </a>
  </li>
            
          
          
          
          
        </ul>

        
          
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
        
      </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><ul class="globaltoc"
    role="menu"
    aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../install/index.html">Instalación</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Preparar para Traballar</a></li>
<li class="toctree-l1"><a class="reference internal" href="../synchronise/index.html">Sincronización</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fieldwork/index.html">Traballo de campo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting-started/index.html">Titoriais de Primeiros Pasos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data-formats/index.html">Formatos de Datos Admitidos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../case-studies/index.html">Estudos de Casos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../support/index.html">Asistencia e Desenvolvemento</a></li>
<li class="toctree-l1"><a class="reference internal" href="../old-doc/index.html">Legacy Documentation</a></li>
</ul>

</ul>
        </div>
      </div>
    <div class="col-md-9 content">
      
  <div class="section" id="attribute-form-configuration">
<h1>Configuración do Formulario de Atributos<a class="headerlink" href="#attribute-form-configuration" title="Permalink to this headline">¶</a></h1>
<p>QField crea formularios de forma similar, pero non igual a QGIS.</p>
<div class="section" id="suppress-attribute-form">
<h2>Eliminar Formulario de Atributos<a class="headerlink" href="#suppress-attribute-form" title="Permalink to this headline">¶</a></h2>
<p>A configuración «eliminar formulario de atributos» aplícase directamente ó formulario de QField.</p>
</div>
<div class="section" id="field-widget">
<span id="edit-field-widgets"></span><h2>Widget de campo<a class="headerlink" href="#field-widget" title="Permalink to this headline">¶</a></h2>
<p>Os widgets de campo de QGIS están dispoñibles en base ó mellor esforzo.</p>
<table border="1" class="docutils">
<colgroup>
<col width="22%" />
<col width="20%" />
<col width="58%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Tipo de widget</th>
<th class="head">Asistencia</th>
<th class="head">Notas</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Edición de texto</td>
<td><span class="yay">✔</span></td>
<td><ul class="first last simple">
<li>O HTML non está admitido</li>
<li>Aplícase a introdución numérica en función do tipo.</li>
</ul>
</td>
</tr>
<tr class="row-odd"><td>Caixa de selección</td>
<td><span class="yay">✔</span></td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>Mapa de valores</td>
<td><span class="yay">✔</span></td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>Oculto</td>
<td><span class="yay">✔</span></td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>Anexo</td>
<td><span class="yay">✔</span></td>
<td>Este campo combínase coa integración da cámara. Tamén é posible abrir outros ficheiros coma pdf e doc (se o usuario ten o visor apropiado) <a class="reference internal" href="#attachment"><span class="std std-ref">Anexo (configuración da foto)</span></a></td>
</tr>
<tr class="row-odd"><td>Data Hora</td>
<td><span class="yay">✔</span></td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>Referencia da Relación</td>
<td><span class="yay">✔</span></td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>Widget de Relación</td>
<td><span class="yay">✔</span></td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>Relación de Valores</td>
<td><span class="yay">✔</span></td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>Outros</td>
<td><span class="nay">✘</span></td>
<td><span class="xref std std-ref">faino_medrar</span></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="relation-widget">
<h2>Widget de Relación<a class="headerlink" href="#relation-widget" title="Permalink to this headline">¶</a></h2>
<p>Para máis información ir ó capítulo de relacións da <a href="#id5"><span class="problematic" id="id6">`Documentación oficial de QGIS&lt;https://docs.qgis.org/3.4/en/docs/user_manual/working_with_vector/attribute_table.html#creating-one-or-many-to-many-relations&gt;`_</span></a>.</p>
<div class="clearer text-center docutils container">
<div class="figure">
<a class="reference internal image-reference" href="../_images/relation_editor_widget_list.png"><img alt="../_images/relation_editor_widget_list.png" src="../_images/relation_editor_widget_list.png" style="width: 500px;" /></a>
</div>
</div>
<p>O widget de relación amosa tódalas entidades fillas referenciadas nunha lista. É posible engadilas, eliminalas ou abrilas.</p>
<p>A identificación visual das entradas da lista faise en «Amosar Expresión» na capa filla.</p>
<p><strong>Manexo das claves</strong></p>
<p>Dado que as claves primarias das principais se usan coma claves foráneas nas entidades das capas fillas referenciadas, estas claves primarias deben gardarse para utilizar mesmo despois da sincronización ós datos orixinais. Polo tanto, recomendamos utilizar valores estables tales coma UUIDs para claves primarias.</p>
<p>Xa se poden engadir entidades fillas dende unha principal que está a piques de ser engadida. Esta posibilidade bloquearase se non hai unha clave primaria na capa principal ou se as restricións non se cumpriran. No caso de que se cancele a adición da entidade principal logo de que xa se engadisen algunhas fillas, as entidades fillas tamén se eliminarán.</p>
<p><strong>Relacións Moitos-A-Moitos</strong></p>
<p>Nas relacións moitos-a-moitos, de acordo coa configuración da cardinalidade nas Propiedades da Capa Vectorial de QGIS, a adición, eliminación ou apertura dunha entrada na lista faise directamente na capa filla (na cardinalidade directa) ou na táboa de ligazóns (na cardinalidade moitos-a-un).</p>
<p>O segundo caso utilízase usualmente cando hai información adicional da relación (ex: porcentaxe) na táboa de ligazóns.</p>
<div class="clearer text-center docutils container">
<div class="figure">
<a class="reference internal image-reference" href="../_images/relation_widget_cardinality.png"><img alt="../_images/relation_widget_cardinality.png" src="../_images/relation_widget_cardinality.png" style="width: 500px;" /></a>
</div>
</div>
<p>No caso da cardinalidade moitos-a-un en relacións moitos-a-moitos, Amosar Expresión precisa configurarse na táboa de ligazóns.</p>
<div class="section" id="attachment-photo-settings">
<span id="attachment"></span><h3>Anexo (configuración da foto)<a class="headerlink" href="#attachment-photo-settings" title="Permalink to this headline">¶</a></h3>
<p>O widget de tipo «Anexo» utilízase con campos que almacenan a ruta ós ficheiros.</p>
<p>Pode empregarse para:</p>
<ul class="simple">
<li>tomar e amosar fotos</li>
<li>amosar ligazóns a ficheiros externos coma pdf ou documentos</li>
</ul>
<div class="clearer text-center docutils container">
<div class="figure">
<a class="reference internal image-reference" href="../_images/attachement-setting.png"><img alt="Attachement field settings" src="../_images/attachement-setting.png" style="width: 600px;" /></a>
</div>
</div>
<p>A ruta debe establecerse como relativa. As imaxes, pdf e doc almacénanse nun subdirectorio do proxecto, a onde apunta a ligazón que se almacena no campo de texto.</p>
<p>En QField a foto é amosada. Premendo no símbolo da cámara a cámara ponse a funcionar para actualizar a imaxe cunha nova foto.</p>
<div class="clearer text-center docutils container">
<div class="figure">
<a class="reference internal image-reference" href="../_images/qfield_picture.png"><img alt="Picture in QField" src="../_images/qfield_picture.png" style="width: 600px;" /></a>
</div>
</div>
<p>Para a sincronización o subdirectorio coas imaxes, pdf e doc tamén ten que copiarse.</p>
<p>A opción «hipervínculo» do widget de anexo desactivará a funcionalidade da cámara e activará o hipervínculo para abrir un documento (pdf, doc, …).</p>
<div class="clearer text-center docutils container">
<div class="figure">
<a class="reference internal image-reference" href="../_images/hyperlink_option.png"><img alt="hyperlink_option" src="../_images/hyperlink_option.png" style="width: 600px;" /></a>
</div>
</div>
</div>
</div>
<div class="section" id="value-relation">
<h2>Relación de Valores<a class="headerlink" href="#value-relation" title="Permalink to this headline">¶</a></h2>
<p>O widget «Relación de Valores» ofrece valores dunha táboa relacionada nunha caixa combinada. Podes seleccionar capa, columna chave e columna de valor. Hai varias opcións dispoñibles para cambiar o comportamento estándar: permitir valor nulo, ordenar por valor e permitir seleccións múltiples. O widget amosará unha lista despregable ou de selección múltiple das entidades referenciadas.</p>
<div class="clearer text-center docutils container">
<div class="figure">
<a class="reference internal image-reference" href="../_images/value_relation_widget.gif"><img alt="value_relation_widget" src="../_images/value_relation_widget.gif" style="width: 600px;" /></a>
</div>
</div>
</div>
<div class="section" id="drag-and-drop-designer-forms">
<h2>Formularios do deseñador arrastrar e soltar<a class="headerlink" href="#drag-and-drop-designer-forms" title="Permalink to this headline">¶</a></h2>
<p>Admítense os formularios de Grupos e Lapelas do deseñador Arrastrar e Soltar.</p>
</div>
<div class="section" id="conditional-visibility">
<h2>Visibilidade condicional<a class="headerlink" href="#conditional-visibility" title="Permalink to this headline">¶</a></h2>
<p>Pódense ocultar os grupos en base a unha expresión. Isto é útil cando certos atributos se precisan só baixo certas condicións. Como exemplo imaxina un mapa de árbores. Algúns deles poden ter unha enfermidade e ti tes unha lista de posibles enfermidades. Para non liar o formulario con demasiados campos, crea un grupo e configura unha expresión de visibilidade para un grupo «enfermidades». Engade un campo «enfermidade» cunha caixa de verificación. Só cando a caixa de verificación estea marcada, a lista de enfermidades será visible para o usuario.</p>
<div class="clearer text-center docutils container">
<div class="figure" id="id2">
<a class="reference internal image-reference" href="../_images/conditional_visibility_configuration.png"><img alt="Conditional visibility configuration" src="../_images/conditional_visibility_configuration.png" style="width: 600px;" /></a>
<p class="caption"><span class="caption-text">Configuración dunha caixa de grupo que só se amosará se a caixa de verificación «tomar_medidas» está marcada.</span></p>
</div>
</div>
<p>Vexamos o que temos no campo:</p>
<div class="docutils container">
<iframe src="https://player.vimeo.com/video/499565113" style="border: 0; height: 345px; width: 560px">
</iframe></div>
</div>
<div class="section" id="constraints">
<h2>Restricións<a class="headerlink" href="#constraints" title="Permalink to this headline">¶</a></h2>
<p>Os campos de atributo poden ter ligadas restricións. As restricións son expresións que precisan avaliarse a <code class="code docutils literal notranslate"><span class="pre">Certo</span></code> (ou <code class="code docutils literal notranslate"><span class="pre">1</span></code>) para poder gardar o formulario. As restricións configúranse por en base a un campo e pode engadirse unha descrición que se lle amosará ó usuario se a restrición non é satisfeita.</p>
<div class="clearer text-center docutils container">
<div class="figure" id="id3">
<a class="reference internal image-reference" href="../_images/constraint_configuration.png"><img alt="Constraint configuration" src="../_images/constraint_configuration.png" style="width: 600px;" /></a>
<p class="caption"><span class="caption-text">Configuración dunha restrición dentro dun rango</span></p>
</div>
</div>
<div class="section" id="common-use-cases">
<h3>Casos comúns de uso<a class="headerlink" href="#common-use-cases" title="Permalink to this headline">¶</a></h3>
<p>Non pode introducir un valor de elevación maior que a montaña máis alta neste país.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="ss">&quot;elevation&quot;</span> <span class="o">&lt;</span> <span class="mi">5000</span>
</pre></div>
</div>
<p>Precisa encher cun identificador.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="ss">&quot;identifier&quot;</span> <span class="k">IS</span> <span class="k">NOT</span> <span class="k">NULL</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="default-values">
<h2>Valores predeterminados<a class="headerlink" href="#default-values" title="Permalink to this headline">¶</a></h2>
<p>Os campos poden ter valores predeterminados configurados. Os valores predeterminados se introducen no formulario de atributos cando se dixitaliza unha nova entidade. Son visibles ó usuario e poden modificarse en tanto o campo sexa editable. Poden basearse en variables de xeometría ou expresións.</p>
<div class="clearer text-center docutils container">
<div class="figure" id="id4">
<a class="reference internal image-reference" href="../_images/default_value_configuration.png"><img alt="Default value configuration" src="../_images/default_value_configuration.png" style="width: 600px;" /></a>
<p class="caption"><span class="caption-text">Configuración dunha data con formato como valor predeterminado</span></p>
</div>
</div>
<div class="section" id="additional-variables">
<h3>Variables adicionais<a class="headerlink" href="#additional-variables" title="Permalink to this headline">¶</a></h3>
<p>For more information regarding storing information related to your position in object
attributes, refer to the deticated <a class="reference internal" href="gnss.html#gnss-variables"><span class="std std-ref">GNSS documentation</span></a>.</p>
</div>
<div class="section" id="common-use-cases-expressions">
<span id="id1"></span><h3>Casos comúns de uso<a class="headerlink" href="#common-use-cases-expressions" title="Permalink to this headline">¶</a></h3>
<p>Inserir información da posición como variable:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">@</span><span class="n">position_horizontal_accuracy</span>
</pre></div>
</div>
<p>Introduce a data e a hora actuais:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="n">now</span><span class="p">()</span>
</pre></div>
</div>
<p>Introduce a lonxitude da liña dixitalizada:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span>length($geometry)
</pre></div>
</div>
<p>Configura as variables globais no dispositivo e introdúceas.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">@</span><span class="n">operator_name</span>
</pre></div>
</div>
<p>Se queres asignar un código de rexión baseado na localización onde se insire unha nova entidade, podes facelo empregando unha expresión agregada:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span>aggregate( layer:=&#39;regions&#39;, aggregate:=&#39;max&#39;, expression:=&quot;code&quot;, filter:=intersects( $geometry, geometry( @parent ) ) )
</pre></div>
</div>
<p>Para transformar as coordenadas recibidas dende &#64;position_coordinate ó sistema de coordenadas do proxecto:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="n">x</span><span class="p">(</span><span class="k">transform</span><span class="p">(</span><span class="o">@</span><span class="n">position_coordinate</span><span class="p">,</span> <span class="s1">&#39;EPSG:4326&#39;</span><span class="p">,</span> <span class="o">@</span><span class="n">project_crs</span> <span class="p">))</span>
<span class="n">y</span><span class="p">(</span><span class="k">transform</span><span class="p">(</span><span class="o">@</span><span class="n">position_coordinate</span><span class="p">,</span> <span class="s1">&#39;EPSG:4326&#39;</span><span class="p">,</span> <span class="o">@</span><span class="n">project_crs</span> <span class="p">))</span>
</pre></div>
</div>
<p id="snapping-results">If you want to use the snapping results after drawing a line, you can use the <cite>&#64;snapping_results</cite> variable.
The following code extracts the value of the attribute <cite>id</cite> of the snapping match of the first point of a line.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="n">with_variable</span><span class="p">(</span>
  <span class="s1">&#39;first_snapped_point&#39;</span><span class="p">,</span>
  <span class="n">array_first</span><span class="p">(</span> <span class="o">@</span><span class="n">snapping_results</span> <span class="p">),</span>
  <span class="n">attribute</span><span class="p">(</span>
    <span class="n">get_feature_by_id</span><span class="p">(</span>
      <span class="o">@</span><span class="n">first_snapped_point</span><span class="p">[</span><span class="s1">&#39;layer&#39;</span><span class="p">],</span>
      <span class="o">@</span><span class="n">first_snapped_point</span><span class="p">[</span><span class="s1">&#39;feature_id&#39;</span><span class="p">]</span>
    <span class="p">),</span>
    <span class="s1">&#39;id&#39;</span>
  <span class="p">)</span>
</pre></div>
</div>
<p>)</p>
</div>
</div>
<div class="section" id="editable">
<h2>Editable<a class="headerlink" href="#editable" title="Permalink to this headline">¶</a></h2>
<p>Respéctase a marca de editable dos campos.</p>
</div>
<div class="section" id="remember-last-values">
<h2>Lembrar os últimos valores<a class="headerlink" href="#remember-last-values" title="Permalink to this headline">¶</a></h2>
<p>QField ofrece un control máis refinado sobre os últimos valores usados e ignora a configuración de QGIS.</p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
        <br/>
        

 


<div id="sourcelink">


  <a href="https://github.com/opengisch/QField-docs/blob/master/en/prepare/attributes-form.rst" class="fa fa-github"> Edit on GitHub</a>
</div>
      
    </p>
    <p>
        &copy; Copyright 2019, The QField Project/OPENGIS.ch.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.5.<br/>
    </p>
  </div>
</footer>
  </body>
</html>