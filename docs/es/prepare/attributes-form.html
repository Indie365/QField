
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="es">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Configuración del formulario de atributo &#8212; QField Documentation 1.0 - M... documentation</title>
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/style.css" />
    <link rel="stylesheet" type="text/css" href="../_static/qfield.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <script type="text/javascript" src="../_static/translations.js"></script>
    <script type="text/javascript" src="../_static/qfield.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Authentication" href="authentication.html" />
    <link rel="prev" title="Permitir ocultar nodos de la leyenda" href="allow-hiding-legend-nodes.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../_static/js/jquery-1.12.4.min.js "></script>
<script type="text/javascript" src="../_static/js/jquery-fix.js "></script>
<script type="text/javascript" src="../_static/bootstrap-3.4.1/js/bootstrap.min.js "></script>
<script type="text/javascript" src="../_static/bootstrap-sphinx.js "></script>

  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="https://qfield.org">
              <img src="../_static/qfield-logo.svg">
        </a>
        <span class="navbar-text navbar-title"><b><a href="../index.html">QField Documentation</a> </b></span>
        <span class="navbar-text navbar-version pull-left"><b>1.0</b></span>
      </div>

      <div class="collapse navbar-collapse nav-collapse">
        <ul class="nav navbar-nav">
          
          
            
              <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">Configuración del formulario de atributo</a><ul>
<li><a class="reference internal" href="#suppress-attribute-form">Suprimir el formulario de atributos</a></li>
<li><a class="reference internal" href="#field-widget">Control de campo</a></li>
<li><a class="reference internal" href="#relation-widget">Control de relaciones</a><ul>
<li><a class="reference internal" href="#attachment-photo-settings">Adjunto (configuración de fotos)</a></li>
</ul>
</li>
<li><a class="reference internal" href="#value-relation">Relación de valores</a></li>
<li><a class="reference internal" href="#drag-and-drop-designer-forms">Formularios del diseñador de arrastrar y soltar</a></li>
<li><a class="reference internal" href="#conditional-visibility">Visibilidad condicional</a></li>
<li><a class="reference internal" href="#constraints">Restricciones</a><ul>
<li><a class="reference internal" href="#common-use-cases">Casos de uso común</a></li>
</ul>
</li>
<li><a class="reference internal" href="#default-values">Valores predeterminados</a><ul>
<li><a class="reference internal" href="#additional-variables">Variables adicionales</a></li>
<li><a class="reference internal" href="#common-use-cases-expressions">Casos de uso común</a></li>
</ul>
</li>
<li><a class="reference internal" href="#editable">Editable</a></li>
<li><a class="reference internal" href="#remember-last-values">Recordar últimos valores</a></li>
</ul>
</li>
</ul>
</ul>
</li>
            
          
          
            
              
  <li>
    <a href="allow-hiding-legend-nodes.html" title="Previous Chapter: Permitir ocultar nodos de la leyenda"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Permitir ocul...</span>
    </a>
  </li>
  <li>
    <a href="authentication.html" title="Next Chapter: Authentication"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Authentication &raquo;</span>
    </a>
  </li>
            
          
          
          
          
        </ul>

        
          
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
        
      </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><ul class="globaltoc"
    role="menu"
    aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../install/index.html">Instalación</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Prepárate para trabajar</a></li>
<li class="toctree-l1"><a class="reference internal" href="../synchronise/index.html">Sincronización</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fieldwork/index.html">Trabajo de campo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting-started/index.html">Manuales para comenzar</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data-formats/index.html">Formatos de datos soportados</a></li>
<li class="toctree-l1"><a class="reference internal" href="../case-studies/index.html">Casos de estudio</a></li>
<li class="toctree-l1"><a class="reference internal" href="../support/index.html">Soporte y desarrollo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../old-doc/index.html">Legacy Documentation</a></li>
</ul>

</ul>
        </div>
      </div>
    <div class="col-md-9 content">
      
  <div class="section" id="attribute-form-configuration">
<h1>Configuración del formulario de atributo<a class="headerlink" href="#attribute-form-configuration" title="Permalink to this headline">¶</a></h1>
<p>QField crea formularios similares pero no iguales a los de QGIS.</p>
<div class="section" id="suppress-attribute-form">
<h2>Suprimir el formulario de atributos<a class="headerlink" href="#suppress-attribute-form" title="Permalink to this headline">¶</a></h2>
<p>La configuración «suprimir formulario de atributos» se aplica directamente al formulario de QField.</p>
</div>
<div class="section" id="field-widget">
<span id="edit-field-widgets"></span><h2>Control de campo<a class="headerlink" href="#field-widget" title="Permalink to this headline">¶</a></h2>
<p>Los controles de campo de QGIS son compatibles con el mejor esfuerzo.</p>
<table border="1" class="docutils">
<colgroup>
<col width="22%" />
<col width="20%" />
<col width="58%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Tipo de control</th>
<th class="head">Soporte</th>
<th class="head">Notas</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Edición de texto</td>
<td><span class="yay">✔</span></td>
<td><ul class="first last simple">
<li>HTML no está soportado</li>
<li>La entrada numérica es forzada basada en el tipo.</li>
</ul>
</td>
</tr>
<tr class="row-odd"><td>Casilla de verificación</td>
<td><span class="yay">✔</span></td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>Mapa de valores</td>
<td><span class="yay">✔</span></td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>Oculto</td>
<td><span class="yay">✔</span></td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>Adjunto</td>
<td><span class="yay">✔</span></td>
<td>Este campo se combina con la integración de la cámara. También es capaz de abrir otros archivos como pdf y doc (si el usuario tiene un visor adecuado) <a class="reference internal" href="#attachment"><span class="std std-ref">Adjunto (configuración de fotos)</span></a></td>
</tr>
<tr class="row-odd"><td>Fecha Hora</td>
<td><span class="yay">✔</span></td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>Referencia de relación</td>
<td><span class="yay">✔</span></td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>Control de relaciones</td>
<td><span class="yay">✔</span></td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>Relación de valores</td>
<td><span class="yay">✔</span></td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>Otros</td>
<td><span class="nay">✘</span></td>
<td><a class="reference internal" href="../support/index.html#make-it-grow"><span class="std std-ref">Financiación</span></a></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="relation-widget">
<h2>Control de relaciones<a class="headerlink" href="#relation-widget" title="Permalink to this headline">¶</a></h2>
<p>Para más información diríjase al capítulo de relaciones de la <a class="reference external" href="https://docs.qgis.org/3.4/en/docs/user_manual/working_with_vector/attribute_table.html#creating-one-or-many-to-many-relations">documentación oficial de QGIS Documentation</a>.</p>
<div class="clearer text-center docutils container">
<div class="figure">
<a class="reference internal image-reference" href="../_images/relation_editor_widget_list.png"><img alt="../_images/relation_editor_widget_list.png" src="../_images/relation_editor_widget_list.png" style="width: 500px;" /></a>
</div>
</div>
<p>El widget de relacioes muestra todas los objetos hijos de referencia en una lista. Es posible agregarlos, eliminarlos y abrirlos.</p>
<p>La identificación visual de las entradas de la lista se realiza mediante la «Expresión de visualización» de la capa hija.</p>
<p><strong>Manejo de claves</strong></p>
<p>Dado que las claves primarias padre se usan como clave externa en los objetos hijos referidos, estas claves deben guardarse para usarlas incluso después de volver a sincronizar a los datos originales. Por lo tanto, recomendamos usar valores estables tales como UUID para las claves primarias.</p>
<p>Ya es posible agregar hijos de un padre que está a punto de agregarse. Esta posibilidad se bloqueará si no hay una clave primaria válida en el padre o si se violan las restricciones. En caso de que se cancele la adición de la función principal después de que se hayan agregado algunos elementos secundarios, los elementos secundarios también se eliminarán.</p>
<p><strong>Relaciones muchos a muchos</strong></p>
<p>En relaciones muchos a muchos, según la configuración de cardinalidad en las propiedades de la capa vectorial de QGIS, añadir, borrar o abrir una entrada afecta directamente a la capa hija (en cardinalidad directa) o a la tabla relacionada (en cardinalidad muchos a uno).</p>
<p>El segundo caso se usa habitualmente cuando hay una información adicional sobre la relación (ej. porcentaje) en la tabla enlazada.</p>
<div class="clearer text-center docutils container">
<div class="figure">
<a class="reference internal image-reference" href="../_images/relation_widget_cardinality.png"><img alt="../_images/relation_widget_cardinality.png" src="../_images/relation_widget_cardinality.png" style="width: 500px;" /></a>
</div>
</div>
<p>En caso de cardinalidad muchos a uno en relaciones muchos a muchos, la Expresión de visualización se tiene que establecer en la tabla enlazada.</p>
<div class="section" id="attachment-photo-settings">
<span id="attachment"></span><h3>Adjunto (configuración de fotos)<a class="headerlink" href="#attachment-photo-settings" title="Permalink to this headline">¶</a></h3>
<p>El tipo de control «Adjunto» se usa con campos que guardan rutas a archivos.</p>
<p>Se puede usar para:</p>
<ul class="simple">
<li>mostrar y tomar fotos</li>
<li>mostrar enlaces a archivos externos, como pdf o documentos</li>
</ul>
<div class="clearer text-center docutils container">
<div class="figure">
<a class="reference internal image-reference" href="../_images/attachement-setting.png"><img alt="Attachement field settings" src="../_images/attachement-setting.png" style="width: 600px;" /></a>
</div>
</div>
<p>La ruta debe establecerse a relativa. Las fotos, pdf y documentos se guardan así en un subdirectorio del proyecto, al que apunta el enlace guardado en el campo de texto.</p>
<p>En QField se muestra la foto. Haciendo clic en el símbolo de la cámara se inicia la cámara para actualizar la imagen con una nueva foto.</p>
<div class="clearer text-center docutils container">
<div class="figure">
<a class="reference internal image-reference" href="../_images/qfield_picture.png"><img alt="Picture in QField" src="../_images/qfield_picture.png" style="width: 600px;" /></a>
</div>
</div>
<p>Al sincronizar hay que copiar también el subdirectorio con las imágenes, los pdf y los doc.</p>
<p>La opción «hiperenlace» en el control adjunto desactivará la funcionalidad de la cámara y activará un hiperenlace para abrir un documento (pdf, doc,..).</p>
<div class="clearer text-center docutils container">
<div class="figure">
<a class="reference internal image-reference" href="../_images/hyperlink_option.png"><img alt="hyperlink_option" src="../_images/hyperlink_option.png" style="width: 600px;" /></a>
</div>
</div>
</div>
</div>
<div class="section" id="value-relation">
<h2>Relación de valores<a class="headerlink" href="#value-relation" title="Permalink to this headline">¶</a></h2>
<p>El control «Relación de valores» ofrece valores de una tabla relacionada en un cuadro combinado. Puede seleccionar capa, columna clave y columna valor. Hay disponibles varias opciones para cambiar el comportamiento estándar: permitir valores nulos, ordenar por valor y permitir selecciones múltiples. El control mostrará una lista desplegable o multiselección de los objetos relacionados.</p>
<div class="clearer text-center docutils container">
<div class="figure">
<a class="reference internal image-reference" href="../_images/value_relation_widget.gif"><img alt="value_relation_widget" src="../_images/value_relation_widget.gif" style="width: 600px;" /></a>
</div>
</div>
</div>
<div class="section" id="drag-and-drop-designer-forms">
<h2>Formularios del diseñador de arrastrar y soltar<a class="headerlink" href="#drag-and-drop-designer-forms" title="Permalink to this headline">¶</a></h2>
<p>Los grupos y pestañas de los formularios del diseñador de arrastrar y soltar son compatibles.</p>
</div>
<div class="section" id="conditional-visibility">
<h2>Visibilidad condicional<a class="headerlink" href="#conditional-visibility" title="Permalink to this headline">¶</a></h2>
<p>Los grupos se pueden ocultar en base a una expresión. Esto es útil cuando ciertos atributos son sólo requeridos bajo ciertas condiciones. Como ejemplo imagina el mapeo de árboles. Algunos de ellos podrían tener una enfermedad y tiene una lista de posibles enfermedades. Para no sobrecargar el formulario con muchos campos, haga un grupo y configure una expresión de visibilidad para el grupo «enfermedades». Agrege un campo «enfermedad» con una casilla de verificación. Sólo cuando la casilla de verificación esté marcada, la lista de enfermedades estará disponible para el usuario.</p>
<div class="clearer text-center docutils container">
<div class="figure" id="id2">
<a class="reference internal image-reference" href="../_images/conditional_visibility_configuration.png"><img alt="Conditional visibility configuration" src="../_images/conditional_visibility_configuration.png" style="width: 600px;" /></a>
<p class="caption"><span class="caption-text">Configuración de un cuadro de grupo que sólo se mostrará si la casilla de verificación «medidas_tomadas» está marcada.</span></p>
</div>
</div>
<p>Veamos lo que tomamos en el campo:</p>
<div class="docutils container">
<iframe src="https://player.vimeo.com/video/499565113" style="border: 0; height: 345px; width: 560px">
</iframe></div>
</div>
<div class="section" id="constraints">
<h2>Restricciones<a class="headerlink" href="#constraints" title="Permalink to this headline">¶</a></h2>
<p>Los campos de atributos pueden tener restricciones adjuntas. Las restricciones son expresiones que deben evaluarse como <code class="code docutils literal notranslate"><span class="pre">Verdadero</span></code> (o <code class="code docutils literal notranslate"><span class="pre">1</span></code>) para poder guardar el formulario. Las restricciones se configuran a nivel de campo y se puede agregar una descripción que se mostrará al usuario si la restricción no se cumple.</p>
<div class="clearer text-center docutils container">
<div class="figure" id="id3">
<a class="reference internal image-reference" href="../_images/constraint_configuration.png"><img alt="Constraint configuration" src="../_images/constraint_configuration.png" style="width: 600px;" /></a>
<p class="caption"><span class="caption-text">Configuración de una restricción dentro de un rango</span></p>
</div>
</div>
<div class="section" id="common-use-cases">
<h3>Casos de uso común<a class="headerlink" href="#common-use-cases" title="Permalink to this headline">¶</a></h3>
<p>No puedes entrar un valor de elevación más alto que la montaña más alta en este país.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="ss">&quot;elevation&quot;</span> <span class="o">&lt;</span> <span class="mi">5000</span>
</pre></div>
</div>
<p>Es requerido rellenar un identificador.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="ss">&quot;identifier&quot;</span> <span class="k">IS</span> <span class="k">NOT</span> <span class="k">NULL</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="default-values">
<h2>Valores predeterminados<a class="headerlink" href="#default-values" title="Permalink to this headline">¶</a></h2>
<p>Los campos pueden tener configurados unos valores predeterminados. Los valores predeterminados se insertan en el formulario de atributos cuando se digitaliza un objeto nuevo. Son visibles al usuario y se pueden modificar siempre y cuando el campo sea editable. Pueden estar basados en la geometría o en expresiones.</p>
<div class="clearer text-center docutils container">
<div class="figure" id="id4">
<a class="reference internal image-reference" href="../_images/default_value_configuration.png"><img alt="Default value configuration" src="../_images/default_value_configuration.png" style="width: 600px;" /></a>
<p class="caption"><span class="caption-text">Configuración de una fecha con formato como valor predeterminado</span></p>
</div>
</div>
<div class="section" id="additional-variables">
<h3>Variables adicionales<a class="headerlink" href="#additional-variables" title="Permalink to this headline">¶</a></h3>
<p>For more information regarding storing information related to your position in object
attributes, refer to the deticated <a class="reference internal" href="gnss.html#gnss-variables"><span class="std std-ref">GNSS documentation</span></a>.</p>
</div>
<div class="section" id="common-use-cases-expressions">
<span id="id1"></span><h3>Casos de uso común<a class="headerlink" href="#common-use-cases-expressions" title="Permalink to this headline">¶</a></h3>
<p>Insertar información de posicionamiento como variable:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">@</span><span class="n">position_horizontal_accuracy</span>
</pre></div>
</div>
<p>Insertar la fecha y hora actuales:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="n">now</span><span class="p">()</span>
</pre></div>
</div>
<p>Insertar la longitud de la línea digitalizada:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span>length($geometry)
</pre></div>
</div>
<p>Configurar las variables globales en el dispositivo e insertarlas:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">@</span><span class="n">operator_name</span>
</pre></div>
</div>
<p>Si quiere asignar un código de región basado en la localización donde se inserta un objeto nuevo, puede hacerlo usando una expresión de agregación:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span>aggregate( layer:=&#39;regions&#39;, aggregate:=&#39;max&#39;, expression:=&quot;code&quot;, filter:=intersects( $geometry, geometry( @parent ) ) )
</pre></div>
</div>
<p>To transform the coordinates received from &#64;position_coordinate to the coordinate system of your project:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="n">x</span><span class="p">(</span><span class="k">transform</span><span class="p">(</span><span class="o">@</span><span class="n">position_coordinate</span><span class="p">,</span> <span class="s1">&#39;EPSG:4326&#39;</span><span class="p">,</span> <span class="o">@</span><span class="n">project_crs</span> <span class="p">))</span>
<span class="n">y</span><span class="p">(</span><span class="k">transform</span><span class="p">(</span><span class="o">@</span><span class="n">position_coordinate</span><span class="p">,</span> <span class="s1">&#39;EPSG:4326&#39;</span><span class="p">,</span> <span class="o">@</span><span class="n">project_crs</span> <span class="p">))</span>
</pre></div>
</div>
<p id="snapping-results">If you want to use the snapping results after drawing a line, you can use the <cite>&#64;snapping_results</cite> variable.
The following code extracts the value of the attribute <cite>id</cite> of the snapping match of the first point of a line.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="n">with_variable</span><span class="p">(</span>
  <span class="s1">&#39;first_snapped_point&#39;</span><span class="p">,</span>
  <span class="n">array_first</span><span class="p">(</span> <span class="o">@</span><span class="n">snapping_results</span> <span class="p">),</span>
  <span class="n">attribute</span><span class="p">(</span>
    <span class="n">get_feature_by_id</span><span class="p">(</span>
      <span class="o">@</span><span class="n">first_snapped_point</span><span class="p">[</span><span class="s1">&#39;layer&#39;</span><span class="p">],</span>
      <span class="o">@</span><span class="n">first_snapped_point</span><span class="p">[</span><span class="s1">&#39;feature_id&#39;</span><span class="p">]</span>
    <span class="p">),</span>
    <span class="s1">&#39;id&#39;</span>
  <span class="p">)</span>
</pre></div>
</div>
<p>)</p>
</div>
</div>
<div class="section" id="editable">
<h2>Editable<a class="headerlink" href="#editable" title="Permalink to this headline">¶</a></h2>
<p>Se respeta la marca de edición de los campos.</p>
</div>
<div class="section" id="remember-last-values">
<h2>Recordar últimos valores<a class="headerlink" href="#remember-last-values" title="Permalink to this headline">¶</a></h2>
<p>QField ofrece un control mucho más preciso sobre los últimos valores usados e ignora los ajustes de QGIS.</p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
        <br/>
        

 


<div id="sourcelink">


  <a href="https://github.com/opengisch/QField-docs/blob/master/en/prepare/attributes-form.rst" class="fa fa-github"> Edit on GitHub</a>
</div>
      
    </p>
    <p>
        &copy; Copyright 2019, The QField Project/OPENGIS.ch.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.5.<br/>
    </p>
  </div>
</footer>
  </body>
</html>